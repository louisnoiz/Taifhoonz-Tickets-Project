"use strict";(self["webpackChunkfrontend_taifhoonz_tickets"]=self["webpackChunkfrontend_taifhoonz_tickets"]||[]).push([[280],{1280:function(e,t,l){l.r(t),l.d(t,{default:function(){return Ye}});var a=l(9301),r=l(507),s=l(2305);const o=e=>((0,a.dD)("data-v-b1d299f4"),e=e(),(0,a.Cn)(),e),d={class:"w-full min-h-screen"},i={class:"container mx-auto py-10 flex flex-col justify-center items-center"},n={class:"w-full flex justify-end items-center px-20"},c={key:0,class:"w-full flex justify-end items-center px-10"},f={key:1,class:"w-full flex justify-end items-center px-10"},u={class:"w-full grid lg:grid-cols-2 grid-cols-1 gap-4 px-20 mt-2"},m={key:0,class:"w-full flex flex-col items-center"},g=o((()=>(0,a._)("img",{class:"w-80 object-cover rounded-lg mt-8",src:"https://res.theconcert.com/w_375,h_499,c_thumb/027c5eaa2474e2ed2093030ebf823a2d1/aw-resize-the-concert-01.jpg"},null,-1))),w=[g],b={key:1,class:"w-full flex flex-col mt-4 py-4"},p=o((()=>(0,a._)("label",{class:"text-lg text-left block mb-1 text-white"},"Image :",-1))),x={class:"w-full h-96 bg-white p-3 mr-4 flex flex-col gap-4 justify-center items-center border border-gray-300 focus:border-yellow-300 focus:outline-none focus:ring focus:ring-primary-dark/10 focus:ring-opacity-50 rounded-md shadow-sm disabled:bg-gray-100",for:"file-input"},y=["src"],h={key:1},v={key:2,class:"text-gray-500"},_={class:"w-full px-8"},k={key:0,class:"flex flex-col gap-4 py-4 mt-4 text-left"},D={class:"text-3xl font-bold tracking-wide text-white"},E={class:"w-full font-base text-lg text-left text-white"},T={class:"w-full font-base text-lg text-left text-white"},C={class:"w-full font-base text-lg text-left text-white"},S={class:"text-gray-700 tracking-wide text-justify indent-14"},Y={key:1,class:"flex flex-col gap-4 py-4 mt-4 text-left"},j={class:"w-full"},z=o((()=>(0,a._)("label",{class:"block text-lg mb-1 text-white"},"Concert Name :",-1))),U={class:"w-full"},V=o((()=>(0,a._)("label",{class:"block text-lg mb-1 text-white"},"Artist :",-1))),R={class:"flex flex-row gap-4"},N={class:"w-1/2"},M=o((()=>(0,a._)("label",{class:"block text-lg mb-1 text-white"},"Date Start :",-1))),P={class:"w-1/2"},I=o((()=>(0,a._)("label",{class:"block text-lg mb-1 text-white"},"Date End :",-1))),A={class:"w-full"},B=o((()=>(0,a._)("label",{class:"block text-lg mb-1 text-white"},"Location :",-1))),F={key:0,class:"w-full mt-10 flex flex-col gap-4"},Z={class:"w-full mt-2 px-20 text-left flex flex-col gap-4"},$={class:"w-full mt-2 bg-white text-left flex flex-col"},q=(0,a.uE)('<div class="w-full flex" data-v-b1d299f4><div class="w-1/12 py-2 border flex items-center justify-center" data-v-b1d299f4><label class="text-lg text-center" data-v-b1d299f4>Round</label></div><div class="w-3/12 border flex items-center justify-center" data-v-b1d299f4><label class="text-lg text-center" data-v-b1d299f4>Date</label></div><div class="w-4/12 border flex items-center justify-center" data-v-b1d299f4><label class="text-lg text-center" data-v-b1d299f4>Time Start</label></div><div class="w-4/12 border flex items-center justify-center" data-v-b1d299f4><label class="text-lg text-center" data-v-b1d299f4>Time End</label></div></div>',1),L={class:"w-1/12 py-2 border flex items-center justify-center"},H={class:"text-lg text-center"},K={class:"w-3/12 border flex items-center justify-center"},O={class:"text-lg text-center"},J={class:"w-4/12 border flex items-center justify-center"},G={class:"text-lg text-center"},Q={class:"w-4/12 border flex items-center justify-center"},W={class:"text-lg text-center"},X={key:1,class:"w-full flex flex-col gap-4"},ee={class:"w-full px-20 text-left"},te=o((()=>(0,a._)("label",{class:"text-lg block mb-1 text-white"},"Detail :",-1))),le={class:"w-full mt-2 px-20 text-left flex flex-col gap-4"},ae=o((()=>(0,a._)("label",{class:"text-lg block w-36 text-white"},"Round :",-1))),re={class:"bg-white w-full flex flex-row gap-10 p-10"},se={class:"w-1/12 flex items-center"},oe={class:"w-3/12 flex items-center"},de=o((()=>(0,a._)("label",{class:"w-24"},"Date : ",-1))),ie=["onUpdate:modelValue"],ne={class:"w-3/12 flex items-center"},ce=o((()=>(0,a._)("label",{class:"w-36"},"Time Start : ",-1))),fe=["onUpdate:modelValue"],ue={class:"w-3/12 flex items-center"},me=o((()=>(0,a._)("label",{class:"w-36"},"Time End : ",-1))),ge=["onUpdate:modelValue"],we={class:"w-1/12 flex items-center"},be=["onClick"],pe=o((()=>(0,a._)("p",{class:"text-lg text-white"},"Delete",-1))),xe=[pe],ye={class:"w-full flex justify-end"},he=o((()=>(0,a._)("p",{class:"text-lg"},"Add Round",-1))),ve=[he];function _e(e,t,l,o,g,pe){return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",i,[(0,a._)("div",n,[g.handleEdit?((0,a.wg)(),(0,a.iD)("div",f,[(0,a._)("button",{class:"w-24 bg-blue-500 hover:bg-blue-600 text-white p-2 rounded text-lg tracking-wide",onClick:t[1]||(t[1]=e=>pe.SaveData())}," Save "),(0,a._)("button",{class:"w-24 ml-10 bg-gray-500 hover:bg-gray-600 text-white p-2 rounded text-lg tracking-wide",onClick:t[2]||(t[2]=()=>g.handleEdit=!1)}," Cancel ")])):((0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("button",{class:"w-24 text-white ml-10 bg-red-500 hover:bg-red-600 p-2 rounded text-lg tracking-wide",onClick:t[0]||(t[0]=()=>g.handleEdit=!0)}," Edit ")]))]),(0,a._)("div",u,[g.handleEdit?((0,a.wg)(),(0,a.iD)("div",b,[p,(0,a._)("input",{id:"file-input",class:"hide-file-input hidden",type:"file",accept:"image/*",onChange:t[3]||(t[3]=e=>pe.onFileChange(e))},null,32),(0,a._)("label",x,[g.filePreview?((0,a.wg)(),(0,a.iD)("img",{key:0,src:g.filePreview,alt:"fileName",style:{"max-height":"300px"}},null,8,y)):(0,a.kq)("",!0),g.filePreview?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("p",h,"Upload a file")),g.filePreview?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("p",v,(0,r.zw)(g.fileName?g.fileName:"No file chosen"),1))])])):((0,a.wg)(),(0,a.iD)("div",m,w)),(0,a._)("div",_,[g.handleEdit?((0,a.wg)(),(0,a.iD)("div",Y,[(0,a._)("div",j,[z,(0,a.wy)((0,a._)("textarea",{type:"text",name:"name",id:"name",row:"2","onUpdate:modelValue":t[4]||(t[4]=e=>g.concert.name=e),class:"h-18 py-2 px-3 border border-gray-300 focus:border-yellow-300 focus:outline-none focus:ring focus:ring-primary-dark/10 focus:ring-opacity-50 rounded-md shadow-sm disabled:bg-gray-100 mt-1 block w-full"},null,512),[[s.nr,g.concert.name]])]),(0,a._)("div",U,[V,(0,a.wy)((0,a._)("input",{type:"text",name:"artist",id:"artist",row:"2","onUpdate:modelValue":t[5]||(t[5]=e=>g.concert.artist=e),class:"py-2 px-3 border border-gray-300 focus:border-yellow-300 focus:outline-none focus:ring focus:ring-primary-dark/10 focus:ring-opacity-50 rounded-md shadow-sm disabled:bg-gray-100 mt-1 block w-full"},null,512),[[s.nr,g.concert.artist]])]),(0,a._)("div",R,[(0,a._)("div",N,[M,(0,a.wy)((0,a._)("input",{type:"date",name:"dateStart",id:"dateStart","onUpdate:modelValue":t[6]||(t[6]=e=>g.concert.dateStart=e),class:"py-2 px-3 border border-gray-300 focus:border-yellow-300 focus:outline-none focus:ring focus:ring-primary-dark/10 focus:ring-opacity-50 rounded-md shadow-sm disabled:bg-gray-100 mt-1 block w-full"},null,512),[[s.nr,g.concert.dateStart]])]),(0,a._)("div",P,[I,(0,a.wy)((0,a._)("input",{type:"date",name:"dateStart",id:"dateStart","onUpdate:modelValue":t[7]||(t[7]=e=>g.concert.dateEnd=e),class:"py-2 px-3 border border-gray-300 focus:border-yellow-300 focus:outline-none focus:ring focus:ring-primary-dark/10 focus:ring-opacity-50 rounded-md shadow-sm disabled:bg-gray-100 mt-1 block w-full"},null,512),[[s.nr,g.concert.dateEnd]])])]),(0,a._)("div",A,[B,(0,a.wy)((0,a._)("textarea",{type:"text",name:"localtion",id:"localtion",row:"3","onUpdate:modelValue":t[8]||(t[8]=e=>g.concert.location=e),class:"h-20 py-2 px-3 border border-gray-300 focus:border-yellow-300 focus:outline-none focus:ring focus:ring-primary-dark/10 focus:ring-opacity-50 rounded-md shadow-sm disabled:bg-gray-100 mt-1 block w-full"},null,512),[[s.nr,g.concert.location]])])])):((0,a.wg)(),(0,a.iD)("div",k,[(0,a._)("div",D,(0,r.zw)(g.concert.name),1),(0,a._)("span",E," Artist : "+(0,r.zw)(g.concert.artist),1),(0,a._)("span",T," Date : "+(0,r.zw)(pe.formatDate(g.concert.dateStart))+" - "+(0,r.zw)(pe.formatDate(g.concert.dateEnd)),1),(0,a._)("span",C," Local : "+(0,r.zw)(g.concert.location),1),(0,a._)("p",S,(0,r.zw)(g.concert.details),1)]))])]),g.handleEdit?((0,a.wg)(),(0,a.iD)("div",X,[(0,a._)("div",ee,[te,(0,a.wy)((0,a._)("textarea",{name:"detail",id:"detail","onUpdate:modelValue":t[9]||(t[9]=e=>g.concert.details=e),className:"h-56 py-2 px-3 border border-gray-300 focus:border-yellow-300 focus:outline-none focus:ring focus:ring-primary-dark/10 focus:ring-opacity-50 rounded-md shadow-sm disabled:bg-gray-100 mt-1 block w-full"},null,512),[[s.nr,g.concert.details]])]),(0,a._)("div",le,[ae,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(g.rounds,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:"bg-white w-full flex rounded border border-gray-300 items-center"},[(0,a._)("div",re,[(0,a._)("div",se,"Round "+(0,r.zw)(t+1),1),(0,a._)("div",oe,[de,(0,a.wy)((0,a._)("input",{type:"date",name:"date",id:"date","onUpdate:modelValue":t=>e.date=t,class:"py-2 px-3 border border-gray-300 focus:border-yellow-300 focus:outline-none focus:ring focus:ring-primary-dark/10 focus:ring-opacity-50 rounded-md shadow-sm disabled:bg-gray-100 mt-1 block w-full"},null,8,ie),[[s.nr,e.date]])]),(0,a._)("div",ne,[ce,(0,a.wy)((0,a._)("input",{type:"time",name:"startTime",id:"startTime","onUpdate:modelValue":t=>e.startTime=t,class:"py-2 px-3 border border-gray-300 focus:border-yellow-300 focus:outline-none focus:ring focus:ring-primary-dark/10 focus:ring-opacity-50 rounded-md shadow-sm disabled:bg-gray-100 mt-1 block w-full"},null,8,fe),[[s.nr,e.startTime]])]),(0,a._)("div",ue,[me,(0,a.wy)((0,a._)("input",{type:"time",name:"endTime",id:"endTime","onUpdate:modelValue":t=>e.endTime=t,class:"py-2 px-3 border border-gray-300 focus:border-yellow-300 focus:outline-none focus:ring focus:ring-primary-dark/10 focus:ring-opacity-50 rounded-md shadow-sm disabled:bg-gray-100 mt-1 block w-full"},null,8,ge),[[s.nr,e.endTime]])]),(0,a._)("div",we,[(0,a._)("button",{onClick:()=>pe.deleteRound(t),class:"shadow-sm bg-blue-500 hover:bg-blue-600 rounded w-24 py-2"},xe,8,be)])])])))),128)),(0,a._)("div",ye,[(0,a._)("button",{class:"bg-orange-300 hover:bg-orange-400/90 shadow-sm rounded py-2 w-36",onClick:t[10]||(t[10]=()=>pe.addRound())},ve)])])])):((0,a.wg)(),(0,a.iD)("div",F,[(0,a._)("div",Z,[(0,a._)("div",$,[q,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(g.rounds,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"w-full flex",key:t},[(0,a._)("div",L,[(0,a._)("label",H,(0,r.zw)(t+1),1)]),(0,a._)("div",K,[(0,a._)("label",O,(0,r.zw)(pe.formatDate(e.date)),1)]),(0,a._)("div",J,[(0,a._)("label",G,(0,r.zw)(e.startTime),1)]),(0,a._)("div",Q,[(0,a._)("label",W,(0,r.zw)(e.endTime),1)])])))),128))])])]))])])}l(5999);var ke=l(8335),De=l(7088),Ee=l.n(De),Te={data(){return{isOpen:!1,concert:{},rounds:[],handleEdit:!0,filePreview:"",fileName:"",test:"",image:null}},beforeCreate(){const e=this.$route.params.concertId;ke.Z.get("http://44.205.53.190:3000/getConcertById/"+e).then((e=>{this.concert=e.data,this.concert.dateStart=Ee()(this.concert.dateStart).format("YYYY-MM-DD"),this.concert.dateEnd=Ee()(this.concert.dateEnd).format("YYYY-MM-DD"),this.filePreview=`http://44.205.53.190:3000/${this.concert.image}`})),ke.Z.get("http://44.205.53.190:3000/getRoundByConcertId/"+e).then((e=>{this.rounds=e.data,this.rounds.map((e=>{e.date=Ee()(e.date).format("YYYY-MM-DD"),e.startTime=Ee()(e.startTime).format("hh:mm"),e.endTime=Ee()(e.endTime).format("hh:mm")}))})).catch((e=>{console.log(e)}))},methods:{addRound(){this.rounds.push({date:"",startTime:"",endTime:""})},deleteRound(e){this.rounds.splice(e,1)},formatDate(e){const t=Ee()(e);return t.format("DD-MM-YYYY")},onFileChange(e){const t=e.target.files[0];this.image=t;const l=new FileReader;t&&(l.readAsDataURL(t),l.onload=()=>{t.previewBase64=l.result,this.filePreview=t.previewBase64,this.fileName=t.name,this.$emit("file-updated",t)},l.onerror=e=>{console.log("Error ",e)},console.log("file :"+t))},SaveData(){let e=new FormData;this.image?e.append("image",this.image):e.append("image",null),e.append("name",this.concert.name),e.append("details",this.concert.details),e.append("location",this.concert.location),e.append("dateStart",this.concert.dateStart),e.append("dateEnd",this.concert.dateEnd),e.append("artist",this.concert.artist),e.append("rounds",JSON.stringify(this.rounds)),ke.Z.put("http://44.205.53.190:3000/updateConcert/"+this.$route.params.concertId,e).then((e=>{console.log(e.data)})).catch((e=>{console.log(e)}))}}},Ce=l(9660);const Se=(0,Ce.Z)(Te,[["render",_e],["__scopeId","data-v-b1d299f4"]]);var Ye=Se}}]);
//# sourceMappingURL=280.a8c888bd.js.map